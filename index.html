<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Interface to Zotero API • zoteroR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Interface to Zotero API">
<meta name="description" content="An R package that provides interface to Zotero API. It allows users to interact with Zotero libraries, including reading and writing items, collections, and tags.">
<meta property="og:description" content="An R package that provides interface to Zotero API. It allows users to interact with Zotero libraries, including reading and writing items, collections, and tags.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">zoteroR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/zoteroR.html">Getting Started</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gaospecial/zoteroR"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="zoteror">zoteroR<a class="anchor" aria-label="anchor" href="#zoteror"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of zoteroR is to provide a convenient interface to the Zotero API in R.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of zoteroR from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"gaospecial/zoteroR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="section level3">
<h3 id="初始化客户端">初始化客户端<a class="anchor" aria-label="anchor" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%A2%E6%88%B7%E7%AB%AF"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gaospecial.github.io/zoteroR/">zoteroR</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/zotero_client.html">zotero_client</a></span><span class="op">(</span></span>
<span>  library_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"ZOTERO_USER_ID"</span><span class="op">)</span>,</span>
<span>  library_type <span class="op">=</span> <span class="st">"user"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"ZOTERO_API_KEY"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="获取项目">获取项目<a class="anchor" aria-label="anchor" href="#%E8%8E%B7%E5%8F%96%E9%A1%B9%E7%9B%AE"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get 10 items</span></span>
<span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_items.html">get_items</a></span><span class="op">(</span><span class="va">client</span>, limit <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="获取项目数量">获取项目数量<a class="anchor" aria-label="anchor" href="#%E8%8E%B7%E5%8F%96%E9%A1%B9%E7%9B%AE%E6%95%B0%E9%87%8F"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get total number of top-level items in the library</span></span>
<span><span class="fu"><a href="reference/num_top_items.html">num_top_items</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$key</span></span>
<span><span class="co">#&gt; [1] "Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$version</span></span>
<span><span class="co">#&gt; [1] 21936</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library</span></span>
<span><span class="co">#&gt; [[1]]$library$type</span></span>
<span><span class="co">#&gt; [1] "user"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$id</span></span>
<span><span class="co">#&gt; [1] 62236</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$name</span></span>
<span><span class="co">#&gt; [1] "gaoch"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$links</span></span>
<span><span class="co">#&gt; [[1]]$library$links$alternate</span></span>
<span><span class="co">#&gt; [[1]]$library$links$alternate$href</span></span>
<span><span class="co">#&gt; [1] "https://www.zotero.org/springgao"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$links$alternate$type</span></span>
<span><span class="co">#&gt; [1] "text/html"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links</span></span>
<span><span class="co">#&gt; [[1]]$links$self</span></span>
<span><span class="co">#&gt; [[1]]$links$self$href</span></span>
<span><span class="co">#&gt; [1] "https://api.zotero.org/users/62236/items/Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links$self$type</span></span>
<span><span class="co">#&gt; [1] "application/json"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links$alternate</span></span>
<span><span class="co">#&gt; [[1]]$links$alternate$href</span></span>
<span><span class="co">#&gt; [1] "https://www.zotero.org/springgao/items/Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links$alternate$type</span></span>
<span><span class="co">#&gt; [1] "text/html"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$meta</span></span>
<span><span class="co">#&gt; [[1]]$meta$creatorSummary</span></span>
<span><span class="co">#&gt; [1] "Raglin et al."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$meta$parsedDate</span></span>
<span><span class="co">#&gt; [1] "2024-09-05"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$meta$numChildren</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt; [[1]]$data$key</span></span>
<span><span class="co">#&gt; [1] "Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$version</span></span>
<span><span class="co">#&gt; [1] 21936</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$itemType</span></span>
<span><span class="co">#&gt; [1] "journalArticle"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$title</span></span>
<span><span class="co">#&gt; [1] "Manipulating the Maize (Zea mays) Microbiome"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Sierra S."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Raglin"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Alonso"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Favela"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Daniel"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Laspisa"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Jason G."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Wallace"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$abstractNote</span></span>
<span><span class="co">#&gt; [1] "Maize (Zea mays) is a multifaceted cereal grass used globally for nutrition, animal feed, food processing, and biofuels, and a model system in genetics research. Studying the maize microbiome sometimes requires its manipulation to identify the contributions of specific taxa and ecological traits (i.e., diversity, richness, network structure) to maize growth and physiology. Due to regulatory constraints on applying engineered microorganisms in field settings, greenhouse-based experimentation is often the first step for understanding the contribution of root-associated microbiota—whether natural or engineered—to plant phenotypes. In this protocol, we describe methods to inoculate maize with a specific microbiome as a tool for understanding the microbiota's influence on its host plant. The protocol involves removal of the native seed microbiome followed by inoculation of new microorganisms; separate protocols are provided for inoculations from pure culture, from soil slurry, or by mixing in live soil. These protocols cover the most common methods for manipulating the maize microbiome in soil-grown plants in the greenhouse. The methods outlined will ultimately result in rhizosphere microbial assemblages with varying degrees of microbial diversity, ranging from low diversity (individual strain and synthetic community [SynCom] inoculation) to high diversity (percent live inoculation), with the slurry inoculation method representing an “intermediate diversity” treatment."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$publicationTitle</span></span>
<span><span class="co">#&gt; [1] "Cold Spring Harbor Protocols"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$volume</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$issue</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$pages</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$date</span></span>
<span><span class="co">#&gt; [1] "2024-09-05"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$series</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$seriesTitle</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$seriesText</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$journalAbbreviation</span></span>
<span><span class="co">#&gt; [1] "Cold Spring Harb Protoc"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$language</span></span>
<span><span class="co">#&gt; [1] "en"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$DOI</span></span>
<span><span class="co">#&gt; [1] "10.1101/pdb.prot108584"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$ISSN</span></span>
<span><span class="co">#&gt; [1] "1940-3402, 1559-6095"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$shortTitle</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$url</span></span>
<span><span class="co">#&gt; [1] "http://cshprotocols.cshlp.org/content/early/2024/09/05/pdb.prot108584"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$accessDate</span></span>
<span><span class="co">#&gt; [1] "2024-09-19T04:03:28Z"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$archive</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$archiveLocation</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$libraryCatalog</span></span>
<span><span class="co">#&gt; [1] "cshprotocols.cshlp.org"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$callNumber</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$rights</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$extra</span></span>
<span><span class="co">#&gt; [1] "Publisher: Cold Spring Harbor Laboratory Press\nPMID: 39237453\nTLDR: Methods to inoculate maize with a specific microbiome as a tool for understanding the microbiota's influence on its host plant and resulting in rhizosphere microbial assemblages with varying degrees of microbial diversity are described.\ntitleTranslation: 操控玉米微生物群系"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$tags</span></span>
<span><span class="co">#&gt; list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$collections</span></span>
<span><span class="co">#&gt; [[1]]$data$collections[[1]]</span></span>
<span><span class="co">#&gt; [1] "NVIWASQD"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$relations</span></span>
<span><span class="co">#&gt; named list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$dateAdded</span></span>
<span><span class="co">#&gt; [1] "2024-09-19T04:03:28Z"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$dateModified</span></span>
<span><span class="co">#&gt; [1] "2024-10-31T05:55:35Z"</span></span>
<span></span>
<span><span class="co"># Get total number of items in a collection</span></span>
<span><span class="fu"><a href="reference/num_all_items.html">num_all_items</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$key</span></span>
<span><span class="co">#&gt; [1] "Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$version</span></span>
<span><span class="co">#&gt; [1] 21936</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library</span></span>
<span><span class="co">#&gt; [[1]]$library$type</span></span>
<span><span class="co">#&gt; [1] "user"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$id</span></span>
<span><span class="co">#&gt; [1] 62236</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$name</span></span>
<span><span class="co">#&gt; [1] "gaoch"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$links</span></span>
<span><span class="co">#&gt; [[1]]$library$links$alternate</span></span>
<span><span class="co">#&gt; [[1]]$library$links$alternate$href</span></span>
<span><span class="co">#&gt; [1] "https://www.zotero.org/springgao"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$library$links$alternate$type</span></span>
<span><span class="co">#&gt; [1] "text/html"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links</span></span>
<span><span class="co">#&gt; [[1]]$links$self</span></span>
<span><span class="co">#&gt; [[1]]$links$self$href</span></span>
<span><span class="co">#&gt; [1] "https://api.zotero.org/users/62236/items/Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links$self$type</span></span>
<span><span class="co">#&gt; [1] "application/json"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links$alternate</span></span>
<span><span class="co">#&gt; [[1]]$links$alternate$href</span></span>
<span><span class="co">#&gt; [1] "https://www.zotero.org/springgao/items/Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$links$alternate$type</span></span>
<span><span class="co">#&gt; [1] "text/html"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$meta</span></span>
<span><span class="co">#&gt; [[1]]$meta$creatorSummary</span></span>
<span><span class="co">#&gt; [1] "Raglin et al."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$meta$parsedDate</span></span>
<span><span class="co">#&gt; [1] "2024-09-05"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$meta$numChildren</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt; [[1]]$data$key</span></span>
<span><span class="co">#&gt; [1] "Z5NE7NV2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$version</span></span>
<span><span class="co">#&gt; [1] 21936</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$itemType</span></span>
<span><span class="co">#&gt; [1] "journalArticle"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$title</span></span>
<span><span class="co">#&gt; [1] "Manipulating the Maize (Zea mays) Microbiome"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Sierra S."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[1]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Raglin"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Alonso"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[2]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Favela"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Daniel"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[3]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Laspisa"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]</span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]$creatorType</span></span>
<span><span class="co">#&gt; [1] "author"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]$firstName</span></span>
<span><span class="co">#&gt; [1] "Jason G."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$creators[[4]]$lastName</span></span>
<span><span class="co">#&gt; [1] "Wallace"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$abstractNote</span></span>
<span><span class="co">#&gt; [1] "Maize (Zea mays) is a multifaceted cereal grass used globally for nutrition, animal feed, food processing, and biofuels, and a model system in genetics research. Studying the maize microbiome sometimes requires its manipulation to identify the contributions of specific taxa and ecological traits (i.e., diversity, richness, network structure) to maize growth and physiology. Due to regulatory constraints on applying engineered microorganisms in field settings, greenhouse-based experimentation is often the first step for understanding the contribution of root-associated microbiota—whether natural or engineered—to plant phenotypes. In this protocol, we describe methods to inoculate maize with a specific microbiome as a tool for understanding the microbiota's influence on its host plant. The protocol involves removal of the native seed microbiome followed by inoculation of new microorganisms; separate protocols are provided for inoculations from pure culture, from soil slurry, or by mixing in live soil. These protocols cover the most common methods for manipulating the maize microbiome in soil-grown plants in the greenhouse. The methods outlined will ultimately result in rhizosphere microbial assemblages with varying degrees of microbial diversity, ranging from low diversity (individual strain and synthetic community [SynCom] inoculation) to high diversity (percent live inoculation), with the slurry inoculation method representing an “intermediate diversity” treatment."</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$publicationTitle</span></span>
<span><span class="co">#&gt; [1] "Cold Spring Harbor Protocols"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$volume</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$issue</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$pages</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$date</span></span>
<span><span class="co">#&gt; [1] "2024-09-05"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$series</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$seriesTitle</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$seriesText</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$journalAbbreviation</span></span>
<span><span class="co">#&gt; [1] "Cold Spring Harb Protoc"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$language</span></span>
<span><span class="co">#&gt; [1] "en"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$DOI</span></span>
<span><span class="co">#&gt; [1] "10.1101/pdb.prot108584"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$ISSN</span></span>
<span><span class="co">#&gt; [1] "1940-3402, 1559-6095"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$shortTitle</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$url</span></span>
<span><span class="co">#&gt; [1] "http://cshprotocols.cshlp.org/content/early/2024/09/05/pdb.prot108584"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$accessDate</span></span>
<span><span class="co">#&gt; [1] "2024-09-19T04:03:28Z"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$archive</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$archiveLocation</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$libraryCatalog</span></span>
<span><span class="co">#&gt; [1] "cshprotocols.cshlp.org"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$callNumber</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$rights</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$extra</span></span>
<span><span class="co">#&gt; [1] "Publisher: Cold Spring Harbor Laboratory Press\nPMID: 39237453\nTLDR: Methods to inoculate maize with a specific microbiome as a tool for understanding the microbiota's influence on its host plant and resulting in rhizosphere microbial assemblages with varying degrees of microbial diversity are described.\ntitleTranslation: 操控玉米微生物群系"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$tags</span></span>
<span><span class="co">#&gt; list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$collections</span></span>
<span><span class="co">#&gt; [[1]]$data$collections[[1]]</span></span>
<span><span class="co">#&gt; [1] "NVIWASQD"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$relations</span></span>
<span><span class="co">#&gt; named list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$dateAdded</span></span>
<span><span class="co">#&gt; [1] "2024-09-19T04:03:28Z"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$data$dateModified</span></span>
<span><span class="co">#&gt; [1] "2024-10-31T05:55:35Z"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="搜索">搜索<a class="anchor" aria-label="anchor" href="#%E6%90%9C%E7%B4%A2"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取所有保存的搜索</span></span>
<span><span class="va">searches</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_searches.html">get_searches</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="va">search_key</span> <span class="op">=</span> <span class="va">searches</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span></span>
<span><span class="co"># 获取特定的搜索</span></span>
<span><span class="va">search</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_search.html">get_search</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">search_key</span><span class="op">)</span></span></code></pre></div>
<p>下面的操作需要API key有写权限。</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 创建新的搜索</span></span>
<span><span class="va">new_search</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_search.html">create_search</a></span><span class="op">(</span><span class="va">client</span>, </span>
<span>                          name <span class="op">=</span> <span class="st">"Recent ML Papers"</span>,</span>
<span>                          conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                              condition <span class="op">=</span> <span class="st">"title"</span>,</span>
<span>                              operator <span class="op">=</span> <span class="st">"contains"</span>,</span>
<span>                              value <span class="op">=</span> <span class="st">"machine learning"</span></span>
<span>                            <span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                              condition <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>                              operator <span class="op">=</span> <span class="st">"isInTheLast"</span>,</span>
<span>                              value <span class="op">=</span> <span class="st">"1 month"</span></span>
<span>                            <span class="op">)</span></span>
<span>                          <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 删除搜索</span></span>
<span><span class="fu"><a href="reference/delete_search.html">delete_search</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">search_key</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="标签操作">标签操作<a class="anchor" aria-label="anchor" href="#%E6%A0%87%E7%AD%BE%E6%93%8D%E4%BD%9C"></a>
</h3>
<p>获取标签：</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取所有标签</span></span>
<span><span class="va">tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_tags.html">get_tags</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取特定标签</span></span>
<span><span class="va">specific_tag</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_tag.html">get_tag</a></span><span class="op">(</span><span class="va">client</span>, <span class="st">"VIP"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取顶层条目的标签</span></span>
<span><span class="va">top_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_items_top_tags.html">get_items_top_tags</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取回收站中的标签</span></span>
<span><span class="va">trash_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_items_trash_tags.html">get_items_trash_tags</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span></code></pre></div>
<p>获取特定条目或集合的标签：</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 假设我们有一个条目的key</span></span>
<span><span class="va">item_key</span> <span class="op">&lt;-</span> <span class="va">items</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span></span>
<span><span class="co"># 获取该条目的标签</span></span>
<span><span class="va">item_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_item_tags.html">get_item_tags</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">item_key</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取特定集合的标签</span></span>
<span><span class="va">collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collections.html">get_collections</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">collections</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">collection_key</span> <span class="op">&lt;-</span> <span class="va">collections</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span>  <span class="va">collection_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collection_tags.html">get_collection_tags</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">collection_key</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># 获取集合中条目的标签</span></span>
<span>  <span class="va">collection_items_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collection_items_tags.html">get_collection_items_tags</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">collection_key</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># 获取集合中顶层条目的标签</span></span>
<span>  <span class="va">collection_top_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collection_items_top_tags.html">get_collection_items_top_tags</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">collection_key</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>获取特殊位置的标签：</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取"我的出版物"中的标签</span></span>
<span><span class="va">publication_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_publications_tags.html">get_publications_tags</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="集合操作">集合操作<a class="anchor" aria-label="anchor" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取所有集合</span></span>
<span><span class="va">collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collections.html">get_collections</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取顶层集合</span></span>
<span><span class="va">top_collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collections_top.html">get_collections_top</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">collections</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># 获取特定集合</span></span>
<span>  <span class="va">collection</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collection.html">get_collection</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">collections</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># 获取子集合</span></span>
<span>  <span class="va">subcollections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_subcollections.html">get_subcollections</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">collections</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>创建和删除集合（需要写权限）：</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 创建新集合</span></span>
<span><span class="va">new_collection</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_collection.html">create_collection</a></span><span class="op">(</span><span class="va">client</span>, name <span class="op">=</span> <span class="st">"My New Collection"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 创建子集合</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">collections</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">sub_collection</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_collection.html">create_collection</a></span><span class="op">(</span></span>
<span>    <span class="va">client</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"Sub Collection"</span>,</span>
<span>    parent_key <span class="op">=</span> <span class="va">collections</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># 删除集合</span></span>
<span>  <span class="fu"><a href="reference/delete_collection.html">delete_collection</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">sub_collection</span><span class="op">$</span><span class="va">key</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="文件和附件操作">文件和附件操作<a class="anchor" aria-label="anchor" href="#%E6%96%87%E4%BB%B6%E5%92%8C%E9%99%84%E4%BB%B6%E6%93%8D%E4%BD%9C"></a>
</h3>
<p>获取和下载文件：</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 首先获取条目及其附件</span></span>
<span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_items.html">get_items</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="va">item_key</span> <span class="op">&lt;-</span> <span class="va">items</span><span class="op">[[</span><span class="fl">8</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span></span>
<span><span class="co"># 获取该条目的子项目（附件）</span></span>
<span><span class="va">attachments</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/children.html">children</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">item_key</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 如果有附件，获取第一个附件的内容</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">attachments</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">attachment_key</span> <span class="op">&lt;-</span> <span class="va">attachments</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span>  </span>
<span>  <span class="co"># 获取文件内容</span></span>
<span>  <span class="va">file_content</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_file.html">get_file</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">attachment_key</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># 下载文件到本地</span></span>
<span>  <span class="co"># 自动使用原始文件名</span></span>
<span>  <span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_file.html">download_file</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">attachment_key</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># 指定保存路径和文件名</span></span>
<span>  <span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_file.html">download_file</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">attachment_key</span>, </span>
<span>                            filename <span class="op">=</span> <span class="st">"my_paper.pdf"</span>,</span>
<span>                            path <span class="op">=</span> <span class="st">"downloads"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>上传附件（需要写权限）：</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 创建单个文件附件</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_attachment.html">create_attachment</a></span><span class="op">(</span><span class="va">client</span>, </span>
<span>                          files <span class="op">=</span> <span class="st">"path/to/document.pdf"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 创建多个文件附件</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_attachment.html">create_attachment</a></span><span class="op">(</span><span class="va">client</span>, </span>
<span>                          files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"doc1.pdf"</span>, <span class="st">"doc2.pdf"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 创建子附件（关联到父条目）</span></span>
<span><span class="va">parent_key</span> <span class="op">&lt;-</span> <span class="va">items</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_attachment.html">create_attachment</a></span><span class="op">(</span><span class="va">client</span>,</span>
<span>                          files <span class="op">=</span> <span class="st">"supplementary.pdf"</span>,</span>
<span>                          parent_key <span class="op">=</span> <span class="va">parent_key</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 使用不同的链接模式</span></span>
<span><span class="co"># 可选的模式：imported_file, imported_url, linked_file, linked_url</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_attachment.html">create_attachment</a></span><span class="op">(</span><span class="va">client</span>,</span>
<span>                          files <span class="op">=</span> <span class="st">"local_file.pdf"</span>,</span>
<span>                          link_mode <span class="op">=</span> <span class="st">"linked_file"</span><span class="op">)</span></span></code></pre></div>
<p>注意事项：</p>
<ol style="list-style-type: decimal">
<li>文件下载功能会自动从响应头中获取原始文件名</li>
<li>可以指定保存路径，如果路径不存在会自动创建</li>
<li>上传附件支持单个或多个文件</li>
<li>可以创建独立附件或关联到现有条目</li>
<li>支持不同的链接模式（导入文件、导入URL、链接文件、链接URL）</li>
</ol>
</div>
<div class="section level3">
<h3 id="版本控制">版本控制<a class="anchor" aria-label="anchor" href="#%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"></a>
</h3>
<p>获取版本信息：</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取最后修改的版本号</span></span>
<span><span class="va">last_version</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_last_modified_version.html">get_last_modified_version</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取所有条目的版本信息</span></span>
<span><span class="va">item_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_item_versions.html">get_item_versions</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取特定版本之后的修改</span></span>
<span><span class="va">recent_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_item_versions.html">get_item_versions</a></span><span class="op">(</span><span class="va">client</span>, since <span class="op">=</span> <span class="va">last_version</span> <span class="op">-</span> <span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取集合的版本信息</span></span>
<span><span class="va">collection_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_collection_versions.html">get_collection_versions</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span></code></pre></div>
<p>获取删除的内容：</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取从特定版本之后删除的内容</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">last_version</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">deleted</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_deleted.html">get_deleted</a></span><span class="op">(</span><span class="va">client</span>, since <span class="op">=</span> <span class="va">last_version</span> <span class="op">-</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>更新带版本控制的条目（需要写权限）：</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 更新单个条目</span></span>
<span><span class="va">item</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/item.html">item</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">item_key</span><span class="op">)</span></span>
<span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"Updated Title"</span>,</span>
<span>  date <span class="op">=</span> <span class="st">"2024"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/update_item_version.html">update_item_version</a></span><span class="op">(</span><span class="va">client</span>, </span>
<span>                            item_key <span class="op">=</span> <span class="va">item</span><span class="op">$</span><span class="va">key</span>,</span>
<span>                            data <span class="op">=</span> <span class="va">new_data</span>,</span>
<span>                            version <span class="op">=</span> <span class="va">item</span><span class="op">$</span><span class="va">version</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 批量更新条目</span></span>
<span><span class="va">items_to_update</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    key <span class="op">=</span> <span class="st">"KEY1"</span>,</span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"New Title 1"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    key <span class="op">=</span> <span class="st">"KEY2"</span>,</span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"New Title 2"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/update_items_version.html">update_items_version</a></span><span class="op">(</span><span class="va">client</span>, </span>
<span>                             items <span class="op">=</span> <span class="va">items_to_update</span>,</span>
<span>                             version <span class="op">=</span> <span class="va">last_version</span><span class="op">)</span></span></code></pre></div>
<p>注意事项：</p>
<ol style="list-style-type: decimal">
<li>版本号是单调递增的整数</li>
<li>使用版本控制可以避免并发更新冲突</li>
<li>更新时必须提供正确的版本号</li>
<li>获取删除的内容时必须提供 since 参数</li>
</ol>
</div>
<div class="section level3">
<h3 id="群组和特殊集合">群组和特殊集合<a class="anchor" aria-label="anchor" href="#%E7%BE%A4%E7%BB%84%E5%92%8C%E7%89%B9%E6%AE%8A%E9%9B%86%E5%90%88"></a>
</h3>
<p>获取群组和出版物：</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取用户可访问的群组</span></span>
<span><span class="va">groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_groups.html">get_groups</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取"我的出版物"中的条目</span></span>
<span><span class="va">publications</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_publications.html">get_publications</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="批量操作">批量操作<a class="anchor" aria-label="anchor" href="#%E6%89%B9%E9%87%8F%E6%93%8D%E4%BD%9C"></a>
</h3>
<p>获取特定条目：</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取前10个条目的key</span></span>
<span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_items.html">get_items</a></span><span class="op">(</span><span class="va">client</span>, limit <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">keys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">items</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">$</span><span class="va">key</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取特定条目子集</span></span>
<span><span class="va">subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_item_subset.html">get_item_subset</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">keys</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>获取所有内容：</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 获取所有条目（自动处理分页）</span></span>
<span><span class="va">all_items</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_all_items.html">get_all_items</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取所有集合（包括子集合）</span></span>
<span><span class="va">all_collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_all_collections.html">get_all_collections</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 获取特定集合下的所有子集合</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">collections</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">collection_key</span> <span class="op">&lt;-</span> <span class="va">collections</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">key</span></span>
<span>  <span class="va">sub_collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_all_collections.html">get_all_collections</a></span><span class="op">(</span><span class="va">client</span>, <span class="va">collection_key</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing zoteroR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Your Name <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Your Name.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
